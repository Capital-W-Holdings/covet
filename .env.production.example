# =============================================================================
# COVET PRODUCTION ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to version control

# =============================================================================
# APPLICATION
# =============================================================================
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://covet.app
NEXT_PUBLIC_ENV=production

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
# Recommended: Use connection pooling (PgBouncer, Supabase pooler, etc.)
DATABASE_URL=postgresql://user:password@db.example.com:5432/covet?schema=public&connection_limit=10

# Optional: Direct connection for migrations (bypasses pooler)
DIRECT_DATABASE_URL=postgresql://user:password@db.example.com:5432/covet?schema=public

# =============================================================================
# AUTHENTICATION
# =============================================================================
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-min-32-chars
JWT_EXPIRES_IN=7d

# Session configuration
SESSION_COOKIE_NAME=covet_session
SESSION_MAX_AGE=604800

# =============================================================================
# STRIPE PAYMENTS
# =============================================================================
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=your_stripe_secret_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key_here

# Webhook signing secret (from Stripe Dashboard > Webhooks)
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# REDIS (Rate Limiting, Sessions, Cache)
# =============================================================================
# Upstash Redis URL or standard Redis connection
REDIS_URL=rediss://default:xxxx@xxxx.upstash.io:6379

# Optional: Disable rate limiting (development only)
# RATE_LIMIT_ENABLED=false

# =============================================================================
# FILE STORAGE (AWS S3)
# =============================================================================
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
AWS_REGION=us-east-1
AWS_S3_BUCKET=covet-uploads-production

# CloudFront CDN (optional but recommended)
NEXT_PUBLIC_CDN_URL=https://cdn.covet.app

# Upload limits
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# =============================================================================
# EMAIL (Resend or Postmark)
# =============================================================================
# Resend
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=Covet <noreply@covet.app>

# OR Postmark
# POSTMARK_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxx
# POSTMARK_FROM=noreply@covet.app

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Sentry (error tracking)
SENTRY_DSN=https://xxxx@xxxx.ingest.sentry.io/xxxx
SENTRY_AUTH_TOKEN=sntrys_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENTRY_ORG=your-org
SENTRY_PROJECT=covet

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# =============================================================================
# SECURITY
# =============================================================================
# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://covet.app,https://www.covet.app

# Content Security Policy
CSP_REPORT_URI=https://sentry.io/api/xxxx/security/?sentry_key=xxxx

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_PRICE_ALERTS=true
FEATURE_WISHLISTS=true
FEATURE_SOCIAL_LOGIN=false
FEATURE_REVIEWS=true

# =============================================================================
# ANALYTICS (Optional)
# =============================================================================
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
NEXT_PUBLIC_SEGMENT_WRITE_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxx
